{"__meta":{"id":"9c87826a22dc0542831805931a64b70f","datetime":"2015-03-15 13:56:09","utime":1426427769.76,"method":"PUT","uri":"\/admin\/posts\/21","ip":"127.0.0.1"},"php":{"version":"5.5.18"},"messages":{"count":0,"messages":[]},"time":{"start":1426427769.27,"end":1426427769.76,"duration":0.490890026093,"duration_str":"490.89ms","measures":[{"label":"Booting","start":1426427769.27,"relative_start":0,"end":1426427769.43,"relative_end":1426427769.43,"duration":0.157275915146,"duration_str":"157.28ms","params":[],"collector":null},{"label":"Application","start":1426427769.44,"relative_start":0.168465852737,"end":1426427769.76,"relative_end":1426427769.76,"duration":0.320724010468,"duration_str":"320.72ms","params":[],"collector":null},{"label":"After application","start":1426427769.76,"relative_start":0.489228010178,"end":1426427769.76,"relative_end":6.91413879395e-6,"duration":0.00166893005371,"duration_str":"1.67ms","params":[],"collector":null}]},"memory":{"peak_usage":19136512,"peak_usage_str":"18.25MB"},"exceptions":{"count":0,"exceptions":[]},"views":{"nb_templates":0,"templates":[]},"route":{"uri":"PUT admin\/posts\/{posts}","middleware":"auth","as":"admin.posts.update","controller":"App\\Http\\Controllers\\PostsController@update","namespace":"App\\Http\\Controllers","prefix":"\/admin","where":[],"file":"app\/Http\/Controllers\/PostsController.php:131-144"},"queries":{"nb_statements":3,"nb_failed_statements":0,"accumulated_duration":0.00222,"accumulated_duration_str":"2.22ms","statements":[{"sql":"select * from `users` where `users`.`id` = '4' limit 1","params":{"0":"4","hints":"Use <code>SELECT *<\/code> only if you need all columns from table<br \/><code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"},"duration":0.00048,"duration_str":"480\u03bcs","stmt_id":null,"connection":"larabase"},{"sql":"select * from `posts` where `posts`.`id` = '21' limit 1","params":{"0":"21","hints":"Use <code>SELECT *<\/code> only if you need all columns from table<br \/><code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"},"duration":0.00048,"duration_str":"480\u03bcs","stmt_id":null,"connection":"larabase"},{"sql":"update `posts` set `updated_at` = '2015-03-15 13:56:09', `feature_file_name` = 'de4049e3e90a6e0645651e361e3ed8ea.jpg', `feature_file_size` = '539091', `feature_updated_at` = '2015-03-15 13:56:09' where `id` = '21'","params":{"0":"2015-03-15 13:56:09","1":"de4049e3e90a6e0645651e361e3ed8ea.jpg","2":"539091","3":"2015-03-15 13:56:09","4":"21"},"duration":0.00126,"duration_str":"1.26ms","stmt_id":null,"connection":"larabase"}]},"swiftmailer_mails":{"count":0,"mails":[]},"request":{"format":"html","content_type":"text\/html; charset=UTF-8","status_text":"Found","status_code":"302","request_query":"[]","request_request":"array:5 [\n  \"_method\" => \"PUT\"\n  \"title\" => \"Laravel Cache \u6559\u7a0b\"\n  \"category_id\" => \"54\"\n  \"content\" => \"\"\"\n    <p>\u4e00\u65e6\u4f60\u7684\u5e94\u7528\u5f00\u53d1\u5b8c\u6bd5\uff0c\u4f60\u5c31\u60f3\u628a\u5b83\u8c03\u8bd5\u5230\u6700\u4f73\u8fd0\u884c\u72b6\u6001\uff0c\u8fd9\u5176\u4e2d\u5c31\u8981\u7528\u5230\u7f13\u5b58\u3002\u7f13\u5b58\uff08Caching\uff09\u662f\u4e00\u79cd\u900f\u660e\u5316\u5b58\u50a8\u6570\u636e\u7684\u673a\u5236\uff0c\u4ee5\u4f9b\u540e\u671f\u4e0d\u8bfb\u53d6\u6570\u636e\u5e93\u76f4\u63a5\u4f7f\u7528\u3002\u4f7f\u7528\u7f13\u5b58\uff0c\u53ef\u4ee5\u6781\u5927\u63d0\u9ad8\u5e94\u7528\u7684\u8fd0\u884c\u901f\u5ea6\u3002\u5f00\u542f\u7f13\u5b58\u7684\u65b9\u5f0f\u5176\u5b9e\u6709\u5f88\u591a\uff0cLaravel\u8ba9\u8fd9\u4e2a\u8fc7\u7a0b\u53d8\u5f97\u5f88\u7b80\u5355\uff0c\u4e8b\u5b9e\u4e0a\uff0c\u4f60\u53ea\u8981\u8c03\u7528\u51e0\u4e2a\u51fd\u6570\u65b9\u6cd5\u5c31\u53ef\u4ee5\u641e\u5b9a\u3002<\/p>M\n    M\n    M\n    <h3><span style=\"color:#808080\"><strong><span style=\"font-size:18px\">Laravel Cache \u8bbe\u7f6e<\/span><\/strong><\/span><\/h3>M\n    M\n    <p>\u00a0\u9996\u5148\u5f53\u7136\u662f\u5148\u544a\u8bc9Laravel\u4f60\u7684\u57fa\u672c\u8ba1\u5212\u662f\u4ec0\u4e48\uff0c\u8bbe\u7f6e\u6587\u4ef6\u662f\u00a0<span style=\"background-color: rgb(239, 239, 239);\">app\/config\/cache.php\uff0c<\/span>\u6211\u4eec\u6765\u770b\u770b\u5185\u5bb9\uff1a<\/p>M\n    M\n    <pre>  return array(M\n     M\n    I\/*M\n    I|--------------------------------------------------------------------------M\n    I| Default Cache DriverM\n    I|--------------------------------------------------------------------------M\n    I|M\n    I| This option controls the default cache \"driver\" that will be used whenM\n    I| using the Caching library. Of course, you may use other drivers anyM\n    I| time you wish. This is the default when another is not specified.M\n    I|M\n    I| Supported: \"file\", \"database\", \"apc\", \"memcached\", \"redis\", \"array\"M\n    I|M\n    I*\/M\n     M\n    I'driver' => 'file',M\n     M\n    I\/*M\n    I|--------------------------------------------------------------------------M\n    I| File Cache LocationM\n    I|--------------------------------------------------------------------------M\n    I|M\n    I| When using the \"file\" cache driver, we need a location where the cacheM\n    I| files may be stored. A sensible default has been specified, but youM\n    I| are free to change it to any other place on disk that you desire.M\n    I|M\n    I*\/M\n     M\n    I'path' => storage_path().'\/cache',M\n     M\n    I\/*M\n    I|--------------------------------------------------------------------------M\n    I| Database Cache ConnectionM\n    I|--------------------------------------------------------------------------M\n    I|M\n    I| When using the \"database\" cache driver you may specify the connectionM\n    I| that should be used to store the cached items. When this option isM\n    I| null the default database connection will be utilized for cache.M\n    I|M\n    I*\/M\n     M\n    I'connection' => null,M\n     M\n    I\/*M\n    I|--------------------------------------------------------------------------M\n    I| Database Cache TableM\n    I|--------------------------------------------------------------------------M\n    I|M\n    I| When using the \"database\" cache driver we need to know the table thatM\n    I| should be used to store the cached items. A default table name hasM\n    I| been provided but you're free to change it however you deem fit.M\n    I|M\n    I*\/M\n     M\n    I'table' => 'cache',M\n     M\n    I\/*M\n    I|--------------------------------------------------------------------------M\n    I| Memcached ServersM\n    I|--------------------------------------------------------------------------M\n    I|M\n    I| Now you may specify an array of your Memcached servers that should beM\n    I| used when utilizing the Memcached cache driver. All of the serversM\n    I| should contain a value for \"host\", \"port\", and \"weight\" options.M\n    I|M\n    I*\/M\n     M\n    I'memcached' => array(M\n     M\n    IIarray('host' => '127.0.0.1', 'port' => 11211, 'weight' => 100),M\n     M\n    I),M\n     M\n    I\/*M\n    I|--------------------------------------------------------------------------M\n    I| Cache Key PrefixM\n    I|--------------------------------------------------------------------------M\n    I|M\n    I| When utilizing a RAM based store such as APC or Memcached, there mightM\n    I| be other applications utilizing the same cache. So, we'll specify aM\n    I| value to get prefixed to all our keys so we can avoid collisions.M\n    I|M\n    I*\/M\n     M\n    I'prefix' => 'laravel',M\n     M\n    );<\/pre>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <p>\u7b2c\u4e00\u4e2a\u9009\u9879\u662f\u5173\u4e8e\u7f13\u5b58\u65b9\u5f0f\u7684\uff0c\u9ed8\u8ba4\u7684\u65b9\u5f0f\u662f\u6587\u4ef6\uff08file\uff09\uff0c\u5f53\u7136\u4e5f\u652f\u6301database, apc, memcached, redis \u548c array\u7b49\u65b9\u5f0f\u3002\u7136\u540ePath\u5c31\u662f\u8bbe\u7f6e\u5b58\u653e\u7f13\u5b58\u6570\u636e\u7684\u5730\u65b9\uff0claravel\u5df2\u7ecf\u4e3a\u4f60\u8bbe\u7f6e\u597d\u4e86\uff0c\u5373<span style=\"background-color: rgb(239, 239, 239);\">app\/storage\/cache<\/span>\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e0d\u7528\u6539\uff0c\u90fdOK\u7684\u3002\u540e\u9762\u4e00\u4e9b\u9009\u9879\u662f\u6709\u5173\u4e8edatabase\u548cmemcached\u7f13\u5b58\u65b9\u5f0f\u7684\uff0c\u6211\u4eec\u5148\u7528\u6587\u4ef6\u7684\u65b9\u5f0f\uff1b<\/p>M\n    <h3><span style=\"color:rgb(128, 128, 128)\"><strong><span style=\"font-size:18px\">Laravel Cache \u5b9e\u4f8b<\/span><\/strong><\/span><\/h3>M\n    M\n    <p>\u8bf4\u90a3\u4e48\u591a\u6ca1\u7528\uff0c\u76f4\u63a5\u4e0a\u5b9e\u4f8b\u3002\u6d4b\u8bd5\u4e00\u4e2a\u529f\u80fd\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u5c31\u662f\u7528\u8def\u7531\u52a0\u95ed\u5305\u51fd\u6570\u6765\u8fdb\u884c\u4e86\u3002<\/p>M\n    M\n    <blockquote><span style=\"font-size: 20px; background-color: rgb(239, 239, 239);\"><strong>Cache::put()<\/strong><\/span><\/blockquote>M\n    M\n    <p>\u5bf9\uff0c\u8fd9\u5c31\u662f\u7528\u6765\u8bbe\u7f6e\u7f13\u5b58\u7684\u65b9\u6cd5\u4e86\uff0cCache::put() \u4e00\u4e2a\u6709\u4e09\u4e2a\u53c2\u6570\uff0c\u5206\u522b\u662f<span style=\"background-color: rgb(239, 239, 239);\">\u7f13\u5b58\u7684Key\uff0c\u7f13\u5b58\u5185\u5bb9\uff0c\u6709\u6548\u65f6\u95f4\uff08\u6309\u5206\u949f\u8ba1\uff09<\/span>\u3002\u770b\u4e0b\u9762\u7684\u4f8b\u5b50\uff1a<\/p>M\n    M\n    <pre>Route::get('\/', function()M\n    {M\n    ICache::put( 'cachekey', '\u8fd9\u662fCache\u4fe1\u606f!', 1 );M\n    });<\/pre>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <p>\u73b0\u5728\u6253\u5f00\u6d4f\u89c8\u5668\u8fdb\u5165\u9996\u9875\uff0c\u4f60\u4f1a\u5403\u60ca\u7684\u53d1\u73b0\uff0c\u548c\u9884\u60f3\u7684\u53ef\u80fd\u4e0d\u4e00\u6837\uff0c\u9996\u9875\u7a7a\u7a7a\u5982\u4e5f\u3002\u90a3\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5230\u5e95\u505a\u4e86\u5199\u4ec0\u4e48\u5462\uff1f\u5b83\u5176\u5b9e\u53ea\u662f\u628a\u6570\u636e\u5b58\u5728\u4e86<span style=\"background-color: rgb(239, 239, 239);\">app\/storage\/cache<\/span>\u6587\u4f73\u5939\u53ca\u5176\u5b50\u6587\u4ef6\u5939\u800c\u5df2\u3002\u6211\u4eec\u8fdb\u53bb\u67e5\u770b\uff0c\u4f60\u4f1a\u770b\u5230\u8bf8\u5982\u8fd9\u6837\u7684\u6587\u4ef6\uff1a\u00a0773d6310cb469462e79d0f7ff0a55840\uff0c\u6253\u5f00\u6587\u4ef6\uff0c\u4f60\u5c31\u53ef\u4ee5\u770b\u52301406759615s:23:\u201c\u8fd9\u662fCache\u4fe1\u606f!\u201d\uff0c\u8fd9\u8868\u660e\u4fe1\u606f\u5df2\u88ab\u7f13\u5b58\u3002<\/p>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <blockquote><span style=\"font-size: 20px; background-color: rgb(239, 239, 239);\"><strong>Cache::get()<\/strong><\/span><\/blockquote>M\n    M\n    <p>\u597d\uff0c\u65e2\u7136\u5df2\u7ecf\u5b58\u50a8\u4e86\u6570\u636e\uff0c\u90a3\u63a5\u4e0b\u6765\u5c31\u662f\u83b7\u53d6\u6570\u636e\u4e86\u3002\u600e\u4e48\u83b7\u53d6\u5462\uff1f\u4e0b\u9762\u8fd9\u4e2a\u65b9\u6cd5\u5df2\u7ecf\u4e0d\u8a00\u81ea\u660e\u4e86\u3002<\/p>M\n    M\n    <pre> Route::get('\/', function()M\n    {M\n    Ireturn Cache::get( 'cachekey' );M\n    }); <\/pre>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <p>\u73b0\u5728\u56de\u5230\u9996\u9875\uff0c\u201c\u8fd9\u662fCache\u4fe1\u606f!\u201d\u5c31\u663e\u793a\u51fa\u6765\u4e86\u3002\u4e4b\u524d\u8bbe\u7f6eCache\u7684\u65f6\u5019\u6211\u4eec\u8bbe\u7f6e\u4e861\u5206\u949f\uff0c\u610f\u5473\u77401\u5206\u949f\u540e\u518d\u5237\u65b0\u9996\u9875\uff0c\u4fe1\u606f\u5c06\u5931\u6548\u3002 \u4e3a\u4e86\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c\uff0c\u6211\u4eec\u53ef\u4ee5\u4e3aCache::get()\u8bbe\u7f6e\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a<\/p>M\n    M\n    <pre> Route::get('\/', function()M\n    {M\n    Ireturn Cache::get( 'cachekey', '\u62b1\u6b49\uff0c\u7f13\u5b58\u5df2\u5931\u6548' );M\n    }); <\/pre>M\n    M\n    <p>\u8fd9\u6837\uff0c\u5f53\u7f13\u5b58\u5931\u6548\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\u4fe1\u606f\u5c31\u4f1a\u663e\u793a\u51fa\u6765\u3002 \u5982\u679c\u4f60\u4ee5\u524d\u7eaf\u624b\u5de5\u5199\u8fc7\u7f13\u5b58\u4ee3\u7801\uff0c\u4f60\u4f1a\u53d1\u73b0Laravel\u771f\u662f\u592a\u65b9\u4fbf\u4e86\u3002<\/p>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <blockquote><span style=\"font-size: 20px; background-color: rgb(239, 239, 239);\"><strong>Cache::forever()<\/strong><\/span><\/blockquote>M\n    M\n    <p>\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u4e0d\u8bbe\u7f6e\u7f13\u5b58\u65f6\u95f4\uff0c\u8ba9\u7f13\u5b58\u4e00\u76f4\u6709\u6548\uff1a<\/p>M\n    M\n    <pre> Route::get('\/', function()M\n    {M\n    ICache::forever( 'cachekey', '\u8fd9\u662fCache\u4fe1\u606f!' );M\n    }); <\/pre>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <blockquote><span style=\"font-size: 20px; background-color: rgb(239, 239, 239);\"><strong>Cache::has()<\/strong><\/span><\/blockquote>M\n    M\n    <p>is\uff0chas \u8fd9\u4e9b\u8bcd\u4e00\u822c\u7528\u4e8e\u5224\u65ad\uff0c\u6240\u4ee5\u8fd9\u4e2a\u65b9\u6cd5\u5c31\u662f\u5224\u65ad\u6709\u6ca1\u6709\u8bbe\u7f6e\u7f13\u5b58\uff1a<\/p>M\n    M\n    <pre> Route::get('\/', function()M\n    {M\n    Iif( Cache::has( 'cachekey' ) ) {M\n    IIreturn Cache::get( 'cachekey' );M\n    I}M\n     M\n    }); <\/pre>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <blockquote><span style=\"font-size: 20px; background-color: rgb(239, 239, 239);\"><strong>Cache::forget()<\/strong><\/span><\/blockquote>M\n    M\n    <p>\u65e2\u7136Cache::forever()\u53ef\u4ee5\u6c38\u4e45\u8bbe\u7f6e\u7f13\u5b58\uff0c\u90a3\u4e48\u80af\u5b9a\u8981\u6709\u5220\u9664\u7684\u529e\u6cd5\uff0c\u5f88\u7b80\u5355\uff0c\u201cforget it!\"\uff0c\u4e0d\u80fd\u66f4\u76f4\u767d\u4e86\uff1a<\/p>M\n    M\n    <pre> Route::get('\/', function()M\n    {M\n    ICache::forget( 'cachekey' );M\n    IM\n    Iif( Cache::has( 'cachekey' ) ) {M\n    IIreturn Cache::get( 'cachekey' );M\n    I} else {M\n    IIreturn 'cachekey\u5df2\u7ecf\u5220\u9664\uff01';M\n    I}M\n     M\n    }); <\/pre>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <h3><span style=\"font-size: 18px; letter-spacing: 0.01em; font-weight: bold; color: rgb(99, 99, 99);\">\u6570\u636e\u5e93\u7f13\u5b58<\/span><\/h3>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <p>\u6570\u636e\u5e93\u7f13\u5b58\u66f4\u5e38\u89c1\uff0c\u66f4\u5b9e\u7528\u3002\u5927\u91cf\u9891\u7e41\u7684\u6570\u636e\u5e93\u67e5\u8be2\u5b58\u50a8\u4f1a\u6d88\u8017\u5927\u91cf\u7cfb\u7edf\u5185\u5b58\u548cCPU\u8d44\u6e90\uff0c\u5f71\u54cd\u7cfb\u7edf\u6548\u7387\u3002\u628a\u90e8\u5206\u6570\u636e\u653e\u5165\u7f13\u5b58\uff0c\u53ef\u4ee5\u52a0\u901f\u7a0b\u5e8f\u7684\u54cd\u5e94\u65f6\u95f4\uff0c\u51cf\u5c0f\u6570\u636e\u5e93\u538b\u529b\u3002\u6211\u4eec\u6765\u770b\u662f\u600e\u4e48\u505a\u5230\u7684\uff1a<br><\/p>M\n    M\n    <blockquote><span style=\"font-size: 20px; background-color: rgb(239, 239, 239);\"><strong>Model::remember()\u00a0<\/strong><\/span><\/blockquote>M\n    M\n    <p>\u8fd9\u662f\u5f53\u7528eloquent\u5bf9\u6570\u636e\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u7528remember()\u8fd9\u4e2a\u65b9\u6cd5\u6765\u5728\u4e00\u5b9a\u65f6\u95f4\u5185\u7f13\u5b58\u6570\u636e\u67e5\u8be2\u7ed3\u679c\uff0c\u89c2\u5bdf\u4e0b\u9762\u4ee3\u7801\uff1a<\/p>M\n    M\n    <pre> M\n      Event::listen('illuminate.query', function( $query ) {M\n    Iecho $query;M\n    });M\n     M\n     M\n    Route::get('\/', function()M\n    {M\n    I$users = User::remember(1)->get();M\n    IM\n        return View::make('dbdata.index', compact('users'));M\n    });M\n      M\n      <\/pre>M\n    <p>\u4e0a\u9762\u90a3\u4e00\u4e2aEvent::listen\u662f\u4e00\u4e2a\u5c0f\u5de5\u5177\uff0c\u7528\u6765\u89c2\u5bdfSQL\u64cd\u4f5c\u7684\u5177\u4f53\u8fc7\u7a0b\u3002\u00a0<span style=\"background-color:#F0FFFF\">User::remember(1) <\/span>\u7684\u610f\u601d\u663e\u800c\u6613\u89c1\uff0c\u628a\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c\u7f13\u5b58\uff0c\u65f6\u95f4\u4e3a\u4e00\u5206\u949f\u3002 \u5982\u679c\u6ca1\u6709\u7f13\u5b58\uff0cEvent::listen\u7684\u8fd0\u884c\u7ed3\u679c\u662f\u53ef\u4ee5\u770b\u5230 SQL\u8bed\u53e5\u64cd\u4f5c\u7684\uff0c\u5982\u679c\u6709\u7f13\u5b58\uff0c\u90a3\u4e48\u5c06\u6ca1\u6709SQL\u64cd\u4f5c\uff0cEvent::listen\u4e5f\u5c31\u4e0d\u4f1a\u8fd0\u884c\u3002\u6d4b\u8bd5\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u8bd5\u9a8c\u4e00\u4e0b\u3002<\/p>M\n    <h3><span style=\"font-size: 18px; color: rgb(99, 99, 99); font-weight: bold;\">Laravel\u7f13\u5b58\u8f93\u51fa<\/span><\/h3>M\n    M\n    <p>\u5230\u73b0\u5728\u4e3a\u6b62\uff0c\u6211\u4eec\u5df2\u7ecf\u7406\u89e3\u4e86Laravel\u7f13\u5b58\u7684\u57fa\u672c\u539f\u7406\uff0c\u73b0\u5728\u6211\u4eec\u6765\u770b\uff0c\u8981\u628a\u6574\u4e2aHTML\u9875\u9762\u653e\u8fdb\u7f13\u5b58\u8be5\u600e\u4e48\u505a\uff1b<\/p>M\n    M\n    <h3>\u00a0<\/h3>M\n    M\n    <h4><strong style=\"color: rgb(115, 165, 173);\">Laravel Cache Route Filters\uff08\u8def\u7531\u8fc7\u6ee4\u5668\uff09<\/strong><\/h4>M\n    M\n    <p>\u4f7f\u7528\u8def\u7531\u8fc7\u6ee4\u5668\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5b9e\u73b0\u6574\u4e2aHTML\u8f93\u51fa\uff0c\u770b\u4ee3\u7801\uff1a<\/p>M\n    M\n    <pre> Route::filter('routename', function( $route, $request, $response = null ) {M\n    Ireturn '\u6211\u5728\u8def\u7531\u4e4b\u524d\u8fd0\u884c\uff01';M\n    });M\n     M\n     M\n    Route::get('\/', function()M\n    {M\n    I$users = User::remember(1)->get();M\n    IM\n        return View::make('userdata.index', compact('users'));M\n    IM\n    })->before('routename'); <\/pre>M\n    M\n    <p>Route::filter \u8fd9\u4e00\u6bb5\u4ee3\u7801\u5c31\u5b9a\u4e49\u4e86\u4e00\u4e2a \u8fc7\u6ee4\u5668\uff0c\u8fc7\u6ee4\u5668\u52062\u79cd\uff0c\u4e00\u79cd\u662f\u8def\u7531\u8bf7\u6c42\u524d\uff0c\u4e00\u79cd\u662f\u8bf7\u6c42\u540e\u7684\u3002$route, $request\u00a0\u662f\u8bf7\u6c42\u524d\u5f3a\u5236\u53c2\u6570\uff0c\u800c$route, $request, $response\u662f\u8bf7\u6c42\u540e\u5f3a\u5236\u53c2\u6570\u3002\u6211\u4eec\u8fd9\u91cc\u7528->before('routename')\u8ba9 routename\u8fd9\u4e2a\u8fc7\u6ee4\u5668 \u8fd0\u884c\u3002\u8fd9\u6837\u7a0b\u5e8f\u5c31\u4f1areturn\u00a0\u6211\u5728\u8def\u7531\u4e4b\u524d\u8fd0\u884c\uff01\uff0c\u800c\u4e0d\u4f1a\u8fd0\u884c\u540e\u9762\u7684\u7a0b\u5e8f\u3002<\/p>M\n    M\n    <h4><strong style=\"color: rgb(99, 99, 99);\">\u81ea\u5b9a\u4e49\u8fc7\u6ee4\u5668\u7c7b<\/strong><\/h4>M\n    M\n    <p>\u521a\u624d\u7684\u8def\u7531\u987e\u8651\u5668\u53ea\u662f\u7528\u95ed\u5305\u51fd\u6570\u505a\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\uff0c\u4e0b\u9762\u6211\u4eec\u6b63\u5f0f\u5b9a\u4e49\u4e2a\u4e00\u4e2a\u8fc7\u6ee4\u5668\u7c7b\uff0c\u901a\u8fc7\u8c03\u7528\u7c7b\u4e2d\u7684\u65b9\u6cd5\u6765\u5b9e\u73b0\u8fc7\u6ee4\u529f\u80fd\uff1b<\/p>M\n    M\n    <h5><span style=\"font-style: italic; font-weight: bold;\">1. \u9996\u5148\u5728App\u76ee\u5f55\u4e0b\u5efa\u7acb\u4e00\u4e2alib\u6587\u4ef6\u5939\u7528\u6765\u653e\u7f6e\u7b2c\u4e09\u65b9\u7c7b\u5e93\uff0c\u65b0\u5efa\u4e00\u4e2a<\/span><span style=\"font-style: italic;\">CacheFilter.php\u6587\u4ef6\uff1a<\/span><\/h5>M\n    M\n    <pre> namespace cacheFilters;M\n     M\n    use IlluminateRoutingRoute;M\n    use IlluminateHttpRequest;M\n    use IlluminateHttpResponse;M\n     M\n    use Str;M\n    use Cache;M\n     M\n    class CacheFilter {M\n    IM\n    Ipublic function grab( Route $route, Request $request )M\n    I{M\n    II$key = $this->keygen($request->url());M\n    IIM\n    IIif( Cache::has( $key ) ) return Cache::get( $key );M\n    I}M\n    IM\n    Ipublic function set( Route $route, Request $request, Response $response )M\n    I{M\n    II$key = $this->keygen($request->url());M\n    IIM\n    IIif( ! Cache::has( $key ) ) Cache::put( $key, $response->getContent(), 1 );M\n    I}M\n    IM\n    Iprotected function keygen( $url )M\n    I{M\n    IIreturn 'route_' . Str::slug( $url );M\n    I}M\n    IM\n    }M\n     <\/pre>M\n    M\n    <p>\u8981\u60f3\u8ba9\u8fd9\u4e2a\u7c7b\u80fd\u88ab\u81ea\u52a8\u8c03\u7528\u5230\uff0c\u4f60\u9700\u8981\u5728composer.json\u91cc\u8bbe\u7f6e\u6b63\u786e\u7684\u547d\u540d\u7a7a\u95f4\uff0c\u5e76\u4e14\u8fd0\u884ccomposer dump\uff0c\u8bf7\u53c2\u8003Larabase\u7684\u53e6\u4e00\u7bc7\u6587\u7ae0\uff1a\uff1b<\/p>M\n    M\n    <p>\u8fd9\u4e2a\u7c7b\u6709\u4e09\u4e2a\u65b9\u6cd5\uff0c\u5206\u522b\u662fgrab\uff0cset\uff0c\u548ckeygen\uff0c\u5148\u770bkeygen\uff0cStr::slug\u662f\u7528\u6765\u628aurl\u7684\u53d8\u6210\u53ef\u4ee5\u53cb\u597d\u94fe\u63a5\u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u5177\u4f53\u53ef\u4ee5\u770b\u770b<span style=\"color: rgb(66, 66, 66); background-color: rgb(239, 239, 239);\">Laravel\u7684API<a href=\"http:\/\/laravel.com\/api\/master\/Illuminate\/Support\/Str.html\">http:\/\/laravel.com\/api\/master\/Illuminate\/Support\/Str.html<\/a><\/span>\uff0c\u603b\u4e4b\uff0ckeygen\u5c31\u662f\u7528\u6765\u751f\u6210\u4e00\u4e2a\u7f13\u5b58key\u7684\u3002<\/p>M\n    M\n    <p>grab\u65b9\u6cd5\u7684\u4f5c\u7528\uff1a<\/p>M\n    M\n    <ul>M\n    I<li>\u6839\u636e\u8def\u7531\u521b\u5efa\u4e00\u4e2aKey\uff1b<\/li>M\n    I<li>\u4f7f\u7528\u8fd9\u4e2aKey\u6765\u68c0\u67e5\u7f13\u5b58\uff1b<\/li>M\n    I<li>\u5982\u679c\u8fd9\u4e2aKey\u5b58\u5728\u7f13\u5b58\u4e2d\uff0c\u8bfb\u53d6\u7f13\u5b58\u6570\u636e\u3002<\/li>M\n    <\/ul>M\n    M\n    <p>set\u65b9\u6cd5\u7684\u4f5c\u7528\uff1a<\/p>M\n    M\n    <ul>M\n    I<li><span style=\"color:#696969\">\u6839\u636e\u8def\u7531\u521b\u5efa\u4e00\u4e2aKey\uff1b<\/span><\/li>M\n    I<li><span style=\"color:#696969\">\u4f7f\u7528\u8fd9\u4e2aKey\u6765\u68c0\u67e5\u7f13\u5b58\uff1b<\/span><\/li>M\n    I<li><span style=\"color:#696969\">\u5982\u679c\u8fd9\u4e2aKey\u4e0d\u5b58\u5728\uff0c\u7528\u8fd9\u4e2akey\u65b0\u5efa\u4e00\u4e2a\u7f13\u5b58\u3002<\/span><\/li>M\n    <\/ul>M\n    M\n    <h5><span style=\"font-weight: bold; font-style: italic;\">2. \u5c06\u8fc7\u6ee4\u5668\u540d\u79f0\u6ce8\u518c\u5230Ioc\u5bb9\u5668<\/span><\/h5>M\n    M\n    <p>\u6253\u5f00<span style=\"background-color: rgb(239, 239, 239);\">app\/filters.php\uff0c<\/span>\u52a0\u5165\u4e0b\u9762\u4ee3\u7801\uff1a<\/p>M\n    M\n    <pre> Route::filter( 'cache.grab', 'laratutFiltersCacheFilter@grab' );M\n    Route::filter( 'cache.set', 'laratutFiltersCacheFilter@set' );M\n     <\/pre>M\n    M\n    <p>\u5f53\u7136\uff0c\u4f60\u4e0d\u4e00\u5b9a\u8981\u653e\u5230\u8fd9\u4e2a\u6587\u4ef6\u91cc\uff0c\u653e\u5728\u8fd9\u91cc\u662f\u4fbf\u4e8e\u7ba1\u7406\uff1b<\/p>M\n    M\n    <h5><span style=\"font-style: italic; font-weight: bold;\">3. routers<\/span><\/h5>M\n    M\n    <pre> M\n      M\n       Event::listen('illuminate.query', function( $query ) {M\n    Iecho $query;M\n    });M\n      M\n      Route::get('\/', function() { M\n        $users = User::all(); M\n        return View::make('userdata.index', compact('users')); M\n      })->before('cache.grab')->after('cache.set');M\n    M\n    <\/pre>M\n    M\n    M\n    M\n    <p>\u63a5\u4e0b\u6765\u5c31\u5f88\u660e\u4e86\u4e86\uff0c<span style=\"color: rgb(66, 66, 66); background-color: rgb(239, 239, 239);\">->before('cache.grab')->after('cache.set');\u00a0<\/span>\u8bf7\u6c42\u4e4b\u524d\uff0c\u5982\u679c\u6709\u7f13\u5b58\uff0c\u5c31\u8bfb\u53d6\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u5c31\u63a5\u7740\u6267\u884c\uff0c\u8bfb\u6570\u636e\u5e93\u6e32\u67d3HTML\u9875\u9762\uff0c\u7136\u540e\u5c06\u6e32\u67d3\u51fa\u6765\u7684\u7ed3\u679c\uff0c\u4e5f\u5c31\u662fresponse\uff0c\u4fdd\u5b58\u5230\u6570\u636e\u5e93\u3002<\/p>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <h4><span style=\"font-weight: bold; color: rgb(99, 99, 99);\">\u540e\u8bb0\uff1a<\/span><\/h4>M\n    M\n    <p>\u5982\u679c\u4e0a\u9762\u7684\u4ee3\u7801\u4f60\u8fd0\u884c\u8fc7\u4ee5\u540e\uff0c\u53ef\u4ee5\u5230<span style=\"color: rgb(66, 66, 66); background-color: rgb(239, 239, 239);\">app\/storage\/cache <\/span>\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0b\u9762\u89c2\u5bdf\uff0c\u786e\u5b9e\u53ef\u4ee5\u627e\u5230\u8f93\u51fa\u7684html\u7f13\u5b58\u6587\u4ef6\u3002<\/p>M\n    M\n    <p>\u7075\u6d3b\u8fd0\u7528<span style=\"color: rgb(66, 66, 66); background-color: rgb(239, 239, 239); font-weight: bold;\">Cache::put(),\u00a0Cache::get(),\u00a0Cache::has(),Cache::forever()<\/span>\u8fd9\u4e9b\u65b9\u6cd5\uff0c\u5176\u5b9e\u7f13\u5b58\u5f88\u7b80\u5355\u3002<\/p>M\n    M\n    <p>\u00a0<\/p>M\n    M\n    <p>\u00a0<\/p>M\n    \"\"\"\n  \"_token\" => \"5vMWhTbTyzTkljGFWhjw6v1DK0t06PL6kmNNaXVc\"\n]","request_headers":"array:12 [\n  \"host\" => array:1 [\n    0 => \"localhost\"\n  ]\n  \"connection\" => array:1 [\n    0 => \"keep-alive\"\n  ]\n  \"content-length\" => array:1 [\n    0 => \"554186\"\n  ]\n  \"cache-control\" => array:1 [\n    0 => \"max-age=0\"\n  ]\n  \"accept\" => array:1 [\n    0 => \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/webp,*\/*;q=0.8\"\n  ]\n  \"origin\" => array:1 [\n    0 => \"http:\/\/localhost\"\n  ]\n  \"user-agent\" => array:1 [\n    0 => \"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/39.0.2171.71 Safari\/537.36\"\n  ]\n  \"content-type\" => array:1 [\n    0 => \"multipart\/form-data; boundary=----WebKitFormBoundaryTfqAqrcyu6LIXItf\"\n  ]\n  \"referer\" => array:1 [\n    0 => \"http:\/\/localhost\/admin\/posts\/21\/edit\"\n  ]\n  \"accept-encoding\" => array:1 [\n    0 => \"gzip, deflate\"\n  ]\n  \"accept-language\" => array:1 [\n    0 => \"zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4\"\n  ]\n  \"cookie\" => array:1 [\n    0 => \"XSRF-TOKEN=eyJpdiI6Ik5KcmJXblFTZ1wvWkRyaFVEck5GYUd3PT0iLCJ2YWx1ZSI6IlVmQ2xRcDE4d0x3WTJkOWFFTFJwdUNsR0dWVUxscHhqTTRubkdYZVFENzk2c1puTkEwSDRmK0tMRUZDME9mSit0WkNvT0NlY2JPcjVIdlh4MFJxb0dRPT0iLCJtYWMiOiIyNjA0ZmM5Y2RiOWU5YzkxNTEyMzBkODg5NGMzYTNmYTk0MGUxZjZjODcwNGJhYjAzMzQ3OWZjYTMzOTIzYjIzIn0%3D; laravel_session=eyJpdiI6IlVNNlp0MnFCR1hEUGVNRGZwd2NEVUE9PSIsInZhbHVlIjoiWDk1c1NIdzFkVm9QZFJ5UitXU0xuRWRYXC9GSzZ5Q3hvUnFTY2YzTzFLc2xZWXU2bkZPNXoxREo0Qm9XbmhWS1M3TmowczVBOUlPaHRTenhSbVBYU2Z3PT0iLCJtYWMiOiI3ZDhkYjQxNTA3NmM4NjdmYzI1MTBjODYxYzU2YzIzMGFmZmZiYTU3ZjcyNDMxZTE3MTYyN2NjYzJhMDZiMTdkIn0%3D\"\n  ]\n]","request_server":"array:36 [\n  \"REDIRECT_STATUS\" => \"200\"\n  \"HTTP_HOST\" => \"localhost\"\n  \"HTTP_CONNECTION\" => \"keep-alive\"\n  \"CONTENT_LENGTH\" => \"554186\"\n  \"HTTP_CACHE_CONTROL\" => \"max-age=0\"\n  \"HTTP_ACCEPT\" => \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/webp,*\/*;q=0.8\"\n  \"HTTP_ORIGIN\" => \"http:\/\/localhost\"\n  \"HTTP_USER_AGENT\" => \"Mozilla\/5.0 (Macintosh; Intel Mac OS X 10_10_1) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/39.0.2171.71 Safari\/537.36\"\n  \"CONTENT_TYPE\" => \"multipart\/form-data; boundary=----WebKitFormBoundaryTfqAqrcyu6LIXItf\"\n  \"HTTP_REFERER\" => \"http:\/\/localhost\/admin\/posts\/21\/edit\"\n  \"HTTP_ACCEPT_ENCODING\" => \"gzip, deflate\"\n  \"HTTP_ACCEPT_LANGUAGE\" => \"zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4\"\n  \"HTTP_COOKIE\" => \"XSRF-TOKEN=eyJpdiI6Ik5KcmJXblFTZ1wvWkRyaFVEck5GYUd3PT0iLCJ2YWx1ZSI6IlVmQ2xRcDE4d0x3WTJkOWFFTFJwdUNsR0dWVUxscHhqTTRubkdYZVFENzk2c1puTkEwSDRmK0tMRUZDME9mSit0WkNvT0NlY2JPcjVIdlh4MFJxb0dRPT0iLCJtYWMiOiIyNjA0ZmM5Y2RiOWU5YzkxNTEyMzBkODg5NGMzYTNmYTk0MGUxZjZjODcwNGJhYjAzMzQ3OWZjYTMzOTIzYjIzIn0%3D; laravel_session=eyJpdiI6IlVNNlp0MnFCR1hEUGVNRGZwd2NEVUE9PSIsInZhbHVlIjoiWDk1c1NIdzFkVm9QZFJ5UitXU0xuRWRYXC9GSzZ5Q3hvUnFTY2YzTzFLc2xZWXU2bkZPNXoxREo0Qm9XbmhWS1M3TmowczVBOUlPaHRTenhSbVBYU2Z3PT0iLCJtYWMiOiI3ZDhkYjQxNTA3NmM4NjdmYzI1MTBjODYxYzU2YzIzMGFmZmZiYTU3ZjcyNDMxZTE3MTYyN2NjYzJhMDZiMTdkIn0%3D\"\n  \"PATH\" => \"\/usr\/bin:\/bin:\/usr\/sbin:\/sbin\"\n  \"SERVER_SIGNATURE\" => \"\"\n  \"SERVER_SOFTWARE\" => \"Apache\"\n  \"SERVER_NAME\" => \"localhost\"\n  \"SERVER_ADDR\" => \"127.0.0.1\"\n  \"SERVER_PORT\" => \"80\"\n  \"REMOTE_ADDR\" => \"127.0.0.1\"\n  \"DOCUMENT_ROOT\" => \"\/Users\/tangsi\/Documents\/laravelbase\/larabase\/public\"\n  \"SERVER_ADMIN\" => \"you@example.com\"\n  \"SCRIPT_FILENAME\" => \"\/Users\/tangsi\/Documents\/laravelbase\/larabase\/public\/index.php\"\n  \"REMOTE_PORT\" => \"50624\"\n  \"REDIRECT_URL\" => \"\/admin\/posts\/21\"\n  \"GATEWAY_INTERFACE\" => \"CGI\/1.1\"\n  \"SERVER_PROTOCOL\" => \"HTTP\/1.1\"\n  \"REQUEST_METHOD\" => \"POST\"\n  \"QUERY_STRING\" => \"\"\n  \"REQUEST_URI\" => \"\/admin\/posts\/21\"\n  \"SCRIPT_NAME\" => \"\/index.php\"\n  \"PHP_SELF\" => \"\/index.php\"\n  \"REQUEST_TIME_FLOAT\" => 1426427769.27\n  \"REQUEST_TIME\" => 1426427769\n  \"argv\" => []\n  \"argc\" => 0\n]","request_cookies":"array:2 [\n  \"XSRF-TOKEN\" => \"5vMWhTbTyzTkljGFWhjw6v1DK0t06PL6kmNNaXVc\"\n  \"laravel_session\" => \"46a0f158251025304ae282c609c82af422085ad8\"\n]","response_headers":"array:4 [\n  \"cache-control\" => array:1 [\n    0 => \"no-cache\"\n  ]\n  \"date\" => array:1 [\n    0 => \"Sun, 15 Mar 2015 13:56:09 GMT\"\n  ]\n  \"location\" => array:1 [\n    0 => \"http:\/\/localhost\/admin\/posts\/21\/edit\"\n  ]\n  \"content-type\" => array:1 [\n    0 => \"text\/html; charset=UTF-8\"\n  ]\n]","path_info":"\/admin\/posts\/21","session_attributes":"array:7 [\n  \"flash\" => array:2 [\n    \"old\" => []\n    \"new\" => array:1 [\n      0 => \"amaranjs.content\"\n    ]\n  ]\n  \"_token\" => \"5vMWhTbTyzTkljGFWhjw6v1DK0t06PL6kmNNaXVc\"\n  \"url\" => []\n  \"_previous\" => array:1 [\n    \"url\" => \"http:\/\/localhost\/admin\/posts\/21\/edit\"\n  ]\n  \"amaranjs\" => array:1 [\n    \"content\" => \"\"\"\n      <script>\n      I$(function(){ \n      II$.amaran({\"theme\":\"colorful\",\"sticky\":false,\"content\":{\"message\":\"\\u6587\\u7ae0\\u5df2\\u66f4\\u65b0\",\"bgcolor\":\"#27ae60\",\"color\":\"#fff\"},\"position\":\"top right\"}); \n      I });\n      <\/script>\n      \"\"\"\n  ]\n  \"login_82e5d2c56bdd0811318f0cf078b78bfc\" => \"4\"\n  \"PHPDEBUGBAR_STACK_DATA\" => []\n]"}}